<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova AI Coding Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* Sidebar */
        .nova-sidebar {
            width: 300px;
            background: rgba(20, 20, 30, 0.9);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            height: 100vh;
            overflow-y: auto;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .nova-sidebar-header {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nova-sidebar-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6a00ff, #00d4ff);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nova-sidebar-avatar i {
            font-size: 1.5rem;
            color: white;
        }

        .nova-sidebar-title h2 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .nova-sidebar-title p {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .nova-sidebar-menu {
            padding: 15px 0;
        }

        .nova-sidebar-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nova-sidebar-item:hover {
            background: rgba(106, 0, 255, 0.2);
        }

        .nova-sidebar-item i {
            width: 20px;
            text-align: center;
        }

        .nova-sidebar-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 15px 20px;
        }

        /* Main Content */
        .nova-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* Chat Header */
        .nova-chat-header {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nova-chat-title {
            flex: 1;
        }

        .nova-chat-title h2 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .nova-chat-title p {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .nova-chat-actions {
            display: flex;
            gap: 10px;
        }

        .nova-chat-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nova-chat-action:hover {
            background: rgba(106, 0, 255, 0.3);
        }

        /* Chat Messages */
        .nova-chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            scroll-behavior: smooth;
            overscroll-behavior: contain;
            mask-image: linear-gradient(
                to bottom,
                transparent 0%,
                black 20px,
                black calc(100% - 20px),
                transparent 100%
            );
            padding-bottom: 10px;
        }

        .nova-message {
            max-width: 80%;
            padding: 15px;
            border-radius: 15px;
            font-size: 1rem;
            line-height: 1.5;
            animation: messageAppear 0.3s ease;
            transition: transform 0.3s ease, opacity 0.3s ease;
            will-change: transform, opacity;
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nova-message-bot {
            align-self: flex-start;
            background: rgba(106, 0, 255, 0.2);
            border-bottom-left-radius: 5px;
            border-top-right-radius: 15px;
        }

        .nova-message-user {
            align-self: flex-end;
            background: rgba(0, 212, 255, 0.2);
            border-bottom-right-radius: 5px;
            border-top-left-radius: 15px;
        }

        /* Chat Input */
        .nova-chat-input {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .nova-chat-input input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 1rem;
            outline: none;
        }

        .nova-chat-input input:focus {
            box-shadow: 0 0 0 2px rgba(106, 0, 255, 0.3);
        }

        .nova-chat-input button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6a00ff, #00d4ff);
            border: none;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nova-chat-input button:hover {
            transform: scale(1.1);
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 15px;
            background: rgba(106, 0, 255, 0.2);
            border-radius: 15px;
            align-self: flex-start;
            width: fit-content;
            margin-bottom: 5px;
            transition: opacity 0.3s ease;
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            background-color: #00d4ff;
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }

        /* Quick Replies */
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .quick-reply {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-reply:hover {
            background: rgba(106, 0, 255, 0.3);
        }

        /* Function Panels */
        .function-panel {
            display: none;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .function-panel.active {
            display: block;
        }

        .function-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Code Block Styling */
        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            overflow-x: auto;
            position: relative;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            color: #aaa;
        }

        .copy-btn {
            background: rgba(106, 0, 255, 0.3);
            border: none;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: rgba(106, 0, 255, 0.5);
        }

        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }

        /* Language Tabs */
        .language-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }

        .language-tab {
            padding: 5px 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .language-tab.active {
            background: rgba(106, 0, 255, 0.3);
        }
        .nova-chat-messages {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
    scroll-behavior: smooth;
    overscroll-behavior: contain;
    /* Remove the mask-image gradient */
    /* mask-image: none; */
    padding-bottom: 10px;
    /* Ensure scrollbar is always visible */
    overflow-y: scroll;
    /* Add these properties for better scrollbar behavior */
    height: 100%;
    max-height: calc(100vh - 180px); /* Adjust based on your header/footer heights */
}

        ::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: rgba(106, 0, 255, 0.3);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(106, 0, 255, 0.5);
}
        /* Concept Cards */
        .concept-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 3px solid #6a00ff;
        }

        .concept-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #00d4ff;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(106, 0, 255, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(106, 0, 255, 0.5);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nova-sidebar {
                position: absolute;
                left: -300px;
            }
            
            .nova-sidebar.active {
                left: 0;
            }
            
            .nova-toggle-sidebar {
                display: flex !important;
            }
            
            .nova-message {
                max-width: 90%;
            }
        }

        /* Toggle Sidebar Button (mobile) */
        .nova-toggle-sidebar {
            display: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    
    <!-- Sidebar -->
    <div class="nova-sidebar" id="novaSidebar">
        <div class="nova-sidebar-header">
            <div class="nova-sidebar-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="nova-sidebar-title">
                <h2>Nova Coding Assistant</h2>
                <p>AI-Powered Developer</p>
            </div>
        </div>
        
        <div class="nova-sidebar-menu">
            <div class="nova-sidebar-item" data-panel="chat">
                <i class="fas fa-comment-dots"></i>
                <span>Interactive Coding</span>
            </div>
            
            <div class="nova-sidebar-divider"></div>
            
            <div class="nova-sidebar-item" data-panel="html">
                <i class="fab fa-html5"></i>
                <span>HTML Guide</span>
            </div>
            
            <div class="nova-sidebar-item" data-panel="css">
                <i class="fab fa-css3-alt"></i>
                <span>CSS Guide</span>
            </div>
            
            <div class="nova-sidebar-item" data-panel="js">
                <i class="fab fa-js"></i>
                <span>JavaScript Guide</span>
            </div>
            
            <div class="nova-sidebar-item" data-panel="bootstrap">
                <i class="fab fa-bootstrap"></i>
                <span>Bootstrap Guide</span>
            </div>
            
            <div class="nova-sidebar-divider"></div>
            
            <div class="nova-sidebar-item" data-panel="backend">
                <i class="fas fa-server"></i>
                <span>Backend Development</span>
            </div>
            
            <div class="nova-sidebar-item" data-panel="frameworks">
                <i class="fas fa-project-diagram"></i>
                <span>Frameworks</span>
            </div>
            
            <div class="nova-sidebar-divider"></div>
            
            <div class="nova-sidebar-item" data-panel="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="nova-main">
        <!-- Chat Header -->
        <div class="nova-chat-header">
            <div class="nova-toggle-sidebar" id="toggleSidebar">
                <i class="fas fa-bars"></i>
            </div>
            <div class="nova-chat-title">
                <h2 id="currentPanelTitle">Interactive Coding</h2>
                <p id="currentPanelSubtitle">Ask me anything about programming</p>
            </div>
            <div class="nova-chat-actions">
                <div class="nova-chat-action" id="toggleDarkMode">
                    <i class="fas fa-moon"></i>
                </div>
                <div class="nova-chat-action" id="clearChat">
                    <i class="fas fa-trash"></i>
                </div>
            </div>
        </div>

        <!-- Chat Panel -->
        <div class="function-panel active" id="chatPanel">
            <div class="nova-chat-messages" id="novaMessages"></div>
            <div class="nova-chat-input">
                <input type="text" id="novaInput" placeholder="Ask me anything about coding...">
                <button id="novaSend"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <!-- HTML Guide Panel -->
        <div class="function-panel" id="htmlPanel">
            <div class="function-title">HTML Learning Resources</div>
            <div class="concept-card">
                <div class="concept-title">HTML Basics</div>
                <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain HTML structure">Structure</div>
                    <div class="quick-reply" data-command="Show HTML5 features">HTML5 Features</div>
                    <div class="quick-reply" data-command="Give me an HTML template">Basic Template</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">HTML Elements</div>
                <p>Learn about common HTML elements and their usage.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain semantic HTML">Semantic Elements</div>
                    <div class="quick-reply" data-command="Show form elements">Form Elements</div>
                    <div class="quick-reply" data-command="List common HTML tags">Common Tags</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">HTML Advanced</div>
                <p>Dive deeper into HTML concepts and best practices.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain HTML accessibility">Accessibility</div>
                    <div class="quick-reply" data-command="Show HTML meta tags">Meta Tags</div>
                    <div class="quick-reply" data-command="Explain HTML entities">HTML Entities</div>
                </div>
            </div>
        </div>

        <!-- CSS Guide Panel -->
        <div class="function-panel" id="cssPanel">
            <div class="function-title">CSS Learning Resources</div>
            <div class="concept-card">
                <div class="concept-title">CSS Basics</div>
                <p>CSS (Cascading Style Sheets) is used to style and layout web pages.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain CSS syntax">Syntax</div>
                    <div class="quick-reply" data-command="Show CSS selectors">Selectors</div>
                    <div class="quick-reply" data-command="Explain the box model">Box Model</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">CSS Layout</div>
                <p>Modern techniques for creating responsive layouts.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Flexbox">Flexbox</div>
                    <div class="quick-reply" data-command="Explain CSS Grid">CSS Grid</div>
                    <div class="quick-reply" data-command="Compare Flexbox and Grid">Flexbox vs Grid</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">CSS Advanced</div>
                <p>Advanced CSS techniques and features.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain CSS variables">Variables</div>
                    <div class="quick-reply" data-command="Show CSS animations">Animations</div>
                    <div class="quick-reply" data-command="Explain media queries">Responsive Design</div>
                </div>
            </div>
        </div>

        <!-- JavaScript Guide Panel -->
        <div class="function-panel" id="jsPanel">
            <div class="function-title">JavaScript Learning Resources</div>
            <div class="concept-card">
                <div class="concept-title">JavaScript Basics</div>
                <p>JavaScript is the programming language of the web.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain JavaScript syntax">Syntax</div>
                    <div class="quick-reply" data-command="Show JS data types">Data Types</div>
                    <div class="quick-reply" data-command="Explain variables in JS">Variables</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">DOM Manipulation</div>
                <p>How to interact with HTML elements using JavaScript.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain DOM selection">Selecting Elements</div>
                    <div class="quick-reply" data-command="Show event handling">Event Handling</div>
                    <div class="quick-reply" data-command="Explain DOM manipulation">DOM Manipulation</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Advanced JS</div>
                <p>Modern JavaScript features and patterns.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain ES6 features">ES6+ Features</div>
                    <div class="quick-reply" data-command="Explain async JS">Async/Await</div>
                    <div class="quick-reply" data-command="Explain closures">Closures</div>
                </div>
            </div>
        </div>

        <!-- Bootstrap Guide Panel -->
        <div class="function-panel" id="bootstrapPanel">
            <div class="function-title">Bootstrap Learning Resources</div>
            <div class="concept-card">
                <div class="concept-title">Bootstrap Basics</div>
                <p>Bootstrap is the most popular CSS framework for responsive web design.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Bootstrap grid">Grid System</div>
                    <div class="quick-reply" data-command="Show Bootstrap setup">Setup</div>
                    <div class="quick-reply" data-command="Explain Bootstrap utilities">Utilities</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Bootstrap Components</div>
                <p>Pre-styled components for rapid UI development.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Show Bootstrap navbar">Navbar</div>
                    <div class="quick-reply" data-command="Explain Bootstrap cards">Cards</div>
                    <div class="quick-reply" data-command="Show Bootstrap forms">Forms</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Bootstrap Customization</div>
                <p>How to customize Bootstrap for your projects.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Bootstrap theming">Theming</div>
                    <div class="quick-reply" data-command="Show Bootstrap variables">Sass Variables</div>
                    <div class="quick-reply" data-command="Explain Bootstrap build process">Custom Builds</div>
                </div>
            </div>
        </div>

        <!-- Backend Development Panel -->
        <div class="function-panel" id="backendPanel">
            <div class="function-title">Backend Development Resources</div>
            <div class="concept-card">
                <div class="concept-title">Node.js</div>
                <p>JavaScript runtime built on Chrome's V8 JavaScript engine.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Node.js basics">Node Basics</div>
                    <div class="quick-reply" data-command="Show Express.js example">Express.js</div>
                    <div class="quick-reply" data-command="Explain REST APIs">REST APIs</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Databases</div>
                <p>Storing and retrieving data for your applications.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain SQL vs NoSQL">SQL vs NoSQL</div>
                    <div class="quick-reply" data-command="Show MongoDB example">MongoDB</div>
                    <div class="quick-reply" data-command="Explain ORMs">ORMs</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Authentication</div>
                <p>Securing your applications and managing users.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain JWT">JWT</div>
                    <div class="quick-reply" data-command="Show OAuth example">OAuth</div>
                    <div class="quick-reply" data-command="Explain session management">Sessions</div>
                </div>
            </div>
        </div>

        <!-- Frameworks Panel -->
        <div class="function-panel" id="frameworksPanel">
            <div class="function-title">JavaScript Frameworks</div>
            <div class="concept-card">
                <div class="concept-title">React</div>
                <p>A JavaScript library for building user interfaces.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain React components">Components</div>
                    <div class="quick-reply" data-command="Show React hooks example">Hooks</div>
                    <div class="quick-reply" data-command="Explain React state">State</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Vue.js</div>
                <p>The Progressive JavaScript Framework.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Vue basics">Vue Basics</div>
                    <div class="quick-reply" data-command="Show Vue directives">Directives</div>
                    <div class="quick-reply" data-command="Explain Vuex">Vuex</div>
                </div>
            </div>
            
            <div class="concept-card">
                <div class="concept-title">Angular</div>
                <p>A platform for building mobile and desktop web applications.</p>
                <div class="quick-replies">
                    <div class="quick-reply" data-command="Explain Angular modules">Modules</div>
                    <div class="quick-reply" data-command="Show Angular components">Components</div>
                    <div class="quick-reply" data-command="Explain Angular services">Services</div>
                </div>
            </div>
        </div>

        <!-- Settings Panel -->
        <div class="function-panel" id="settingsPanel">
            <div class="function-title">Settings</div>
            <div class="nova-sidebar-menu">
                <div class="nova-sidebar-item">
                    <i class="fas fa-moon"></i>
                    <span>Dark Mode</span>
                    <label class="switch" style="margin-left: auto;">
                        <input type="checkbox" id="darkModeToggle" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="nova-sidebar-item">
                    <i class="fas fa-code"></i>
                    <span>Code Theme</span>
                    <select id="codeThemeSelect" style="margin-left: auto; background: rgba(255,255,255,0.1); color: white; border: none; border-radius: 4px; padding: 5px;">
                        <option value="atom-one-dark">Atom One Dark</option>
                        <option value="github">GitHub</option>
                        <option value="monokai">Monokai</option>
                    </select>
                </div>
                <div class="nova-sidebar-divider"></div>
                <div class="nova-sidebar-item" id="clearHistoryBtn">
                    <i class="fas fa-trash"></i>
                    <span>Clear Chat History</span>
                </div>
                <div class="nova-sidebar-item" id="exportChatBtn">
                    <i class="fas fa-download"></i>
                    <span>Export Chat</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Light Mode Styles -->
    <style>
        body.light-mode {
            background: linear-gradient(135deg, #f5f7fa, #e4e8f0, #d8dee9);
            color: #2d3748;
        }

        body.light-mode .nova-sidebar {
            background: rgba(255, 255, 255, 0.9);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }

        body.light-mode .nova-sidebar-header,
        body.light-mode .nova-chat-header {
            background: rgba(255, 255, 255, 0.7);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .nova-sidebar-item:hover {
            background: rgba(106, 0, 255, 0.1);
        }

        body.light-mode .nova-sidebar-divider {
            background: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .nova-message-bot {
            background: rgba(106, 0, 255, 0.1);
            color: #2d3748;
        }

        body.light-mode .nova-message-user {
            background: rgba(0, 212, 255, 0.1);
            color: #2d3748;
        }

        body.light-mode .nova-chat-input {
            background: rgba(255, 255, 255, 0.7);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.light-mode .nova-chat-input input {
            background: rgba(0, 0, 0, 0.05);
            color: #2d3748;
        }

        body.light-mode .quick-reply {
            background: rgba(0, 0, 0, 0.05);
        }

        body.light-mode .quick-reply:hover {
            background: rgba(106, 0, 255, 0.1);
        }

        body.light-mode .concept-card {
            background: rgba(255, 255, 255, 0.7);
        }

        body.light-mode .code-block {
            background: rgba(0, 0, 0, 0.05);
        }

        body.light-mode ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
        }

        body.light-mode ::-webkit-scrollbar-thumb {
            background: rgba(106, 0, 255, 0.2);
        }

        body.light-mode ::-webkit-scrollbar-thumb:hover {
            background: rgba(106, 0, 255, 0.3);
        }

        /* Toggle Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }

        input:checked + .slider {
            background: linear-gradient(135deg, #6a00ff, #00d4ff);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/html.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/css.min.js"></script>
    <script>
        // DOM Elements
        const novaSidebar = document.getElementById('novaSidebar');
        const toggleSidebar = document.getElementById('toggleSidebar');
        const novaMessages = document.getElementById('novaMessages');
        const novaInput = document.getElementById('novaInput');
        const novaSend = document.getElementById('novaSend');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const toggleDarkMode = document.getElementById('toggleDarkMode');
        const currentPanelTitle = document.getElementById('currentPanelTitle');
        const currentPanelSubtitle = document.getElementById('currentPanelSubtitle');
        const clearChat = document.getElementById('clearChat');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const exportChatBtn = document.getElementById('exportChatBtn');
        const codeThemeSelect = document.getElementById('codeThemeSelect');
    
        // Panels
        const panels = {
            chat: document.getElementById('chatPanel'),
            html: document.getElementById('htmlPanel'),
            css: document.getElementById('cssPanel'),
            js: document.getElementById('jsPanel'),
            bootstrap: document.getElementById('bootstrapPanel'),
            backend: document.getElementById('backendPanel'),
            frameworks: document.getElementById('frameworksPanel'),
            settings: document.getElementById('settingsPanel')
        };
    
        // Enhanced Config
        const novaConfig = {
            mockAPI: {
                url: 'https://api.nova-ai.com/v2/chat',
                enabled: true
            },
            fallbackResponses: [
                "I'm currently experiencing some technical difficulties. Could you please rephrase your question or try again later?",
                "I want to ensure I provide accurate information. Let me check my knowledge base and get back to you on that.",
                "That's an interesting question. I need to verify some details before providing a complete response."
            ],
            welcomeMessages: [
                "Hello! I'm Nova, your coding assistant. How can I help you with your programming questions today?",
                "Hi there! I'm Nova, ready to help with HTML, CSS, JavaScript, and more. What would you like to learn?",
                "Welcome! I'm Nova, your AI programming tutor. Ask me anything about web development!"
            ],
            userContext: {
                name: null,
                lastInteraction: null,
                conversationHistory: []
            }
        };
    
        // State
        let is // State
let isTyping = false;
let currentPanel = 'chat';
let messageHistory = [];

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    // Event Listeners
    novaSend.addEventListener('click', sendMessage);
    novaInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });

    // Panel Switching
    document.querySelectorAll('.nova-sidebar-item').forEach(item => {
        item.addEventListener('click', () => {
            const panel = item.dataset.panel;
            switchPanel(panel);
        });
    });

    // Quick Replies
    document.querySelectorAll('.quick-reply').forEach(reply => {
        reply.addEventListener('click', () => {
            const command = reply.dataset.command;
            simulateUserQuestion(command);
        });
    });

    // Dark Mode Toggle
    toggleDarkMode.addEventListener('click', () => {
        document.body.classList.toggle('light-mode');
        darkModeToggle.checked = !document.body.classList.contains('light-mode');
    });

    // Clear Chat
    clearChat.addEventListener('click', clearChatHistory);
    clearHistoryBtn.addEventListener('click', clearChatHistory);

    // Code Theme
    codeThemeSelect.addEventListener('change', updateCodeTheme);

    // Initial Welcome Message
    setTimeout(() => {
        addMessage('bot', novaConfig.welcomeMessages[Math.floor(Math.random() * novaConfig.welcomeMessages.length)]);
    }, 500);
});

// Functions
function switchPanel(panel) {
    currentPanel = panel;
    Object.values(panels).forEach(p => p.classList.remove('active'));
    panels[panel].classList.add('active');
    
    // Update panel title
    const titles = {
        chat: ['Interactive Coding', 'Ask me anything about programming'],
        html: ['HTML Guide', 'HyperText Markup Language Resources'],
        css: ['CSS Guide', 'Cascading Style Sheets Resources'],
        js: ['JavaScript Guide', 'ECMAScript Resources'],
        bootstrap: ['Bootstrap Guide', 'Front-end Framework Resources'],
        backend: ['Backend Development', 'Server-side Programming Resources'],
        frameworks: ['Frameworks', 'JavaScript Framework Resources'],
        settings: ['Settings', 'Customize Your Experience']
    };
    
    currentPanelTitle.textContent = titles[panel][0];
    currentPanelSubtitle.textContent = titles[panel][1];
}

function addMessage(sender, content) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `nova-message nova-message-${sender}`;
    messageDiv.innerHTML = content;
    novaMessages.appendChild(messageDiv);
    messageDiv.scrollIntoView({ behavior: 'smooth' });
    
    // Highlight code blocks
    messageDiv.querySelectorAll('pre code').forEach(block => {
        hljs.highlightElement(block);
    });
    
    // Add copy functionality
    messageDiv.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const code = btn.parentElement.nextElementSibling.innerText;
            navigator.clipboard.writeText(code);
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = 'Copy', 2000);
        });
    });
}

async function sendMessage() {
    const userInput = novaInput.value.trim();
    if (!userInput) return;

    novaInput.value = '';
    addMessage('user', userInput);
    showTypingIndicator();
    
    try {
        const response = await mockAIResponse(userInput);
        addMessage('bot', response);
    } catch (error) {
        const fallback = novaConfig.fallbackResponses[Math.floor(Math.random() * novaConfig.fallbackResponses.length)];
        addMessage('bot', fallback);
    }
    
    hideTypingIndicator();
}

async function mockAIResponse(query) {
    // Simulated API call
    return new Promise(resolve => {
        setTimeout(() => {
            const response = generateMockResponse(query);
            resolve(response);
        }, 1500);
    });
}

function generateMockResponse(query) {
    // Simple Q&A simulation
    const responses = {
        'Explain HTML structure': `Here's a basic HTML structure:
            <div class="code-block">
                <div class="code-header">
                    <span>html</span>
                    <button class="copy-btn">Copy</button>
                </div>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Content --&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>`,
        'Show CSS selectors': `CSS selectors examples:
            <div class="code-block">
                <div class="code-header">
                    <span>css</span>
                    <button class="copy-btn">Copy</button>
                </div>
                <pre><code class="language-css">/* Element selector */
div { padding: 20px; }

/* Class selector */
.container { width: 100%; }

/* ID selector */
#main { margin: 0 auto; }</code></pre>
            </div>`
    };

    return responses[query] || `I understand you're asking about "${query}". While I can't provide real answers in this demo, here's a sample response.`;
}

function showTypingIndicator() {
    if (isTyping) return;
    isTyping = true;
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator';
    typingDiv.innerHTML = `
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
    `;
    novaMessages.appendChild(typingDiv);
    typingDiv.scrollIntoView({ behavior: 'smooth' });
}

function hideTypingIndicator() {
    isTyping = false;
    document.querySelector('.typing-indicator')?.remove();
}

function clearChatHistory() {
    novaMessages.innerHTML = '';
    messageHistory = [];
}

function updateCodeTheme() {
    const theme = codeThemeSelect.value;
    const link = document.querySelector('[href*="highlight.js"]');
    link.href = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/${theme}.min.css`;
}

function simulateUserQuestion(question) {
    novaInput.value = question;
    sendMessage();
}

// Mobile Sidebar Toggle
toggleSidebar.addEventListener('click', () => {
    novaSidebar.classList.toggle('active');
});

// Close sidebar when clicking outside on mobile
document.addEventListener('click', (e) => {
    if (window.innerWidth <= 768 && 
        !novaSidebar.contains(e.target) && 
        !toggleSidebar.contains(e.target)) {
        novaSidebar.classList.remove('active');
    }
});

        // ... (existing JavaScript code from previous answer)

        // Mobile Sidebar Toggle
        toggleSidebar.addEventListener('click', () => {
            novaSidebar.classList.toggle('active');
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 && 
                !novaSidebar.contains(e.target) && 
                !toggleSidebar.contains(e.target)) {
                novaSidebar.classList.remove('active');
            }
        });

        // Export Chat History
        exportChatBtn.addEventListener('click', () => {
            const chatContent = Array.from(novaMessages.children)
                .map(msg => {
                    const sender = msg.classList.contains('nova-message-user') ? 'User' : 'Nova';
                    return `${sender}: ${msg.textContent}\n`;
                })
                .join('\n');
            
            const blob = new Blob([chatContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `nova-chat-${new Date().toISOString()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        // Handle Dark Mode Toggle
        darkModeToggle.addEventListener('change', (e) => {
            document.body.classList.toggle('light-mode', !e.target.checked);
        });

        // Initialize Code Highlighting
        hljs.configure({
            cssSelector: 'pre code',
            languages: ['javascript', 'html', 'css']
        });
        hljs.highlightAll();

        // Preserve Chat History on Refresh
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('novaChatHistory', novaMessages.innerHTML);
        });

        // Load Previous Chat History
        const savedHistory = localStorage.getItem('novaChatHistory');
        if (savedHistory) {
            novaMessages.innerHTML = savedHistory;
            novaMessages.scrollTop = novaMessages.scrollHeight;
        }
    </script>
</body>
</html>
